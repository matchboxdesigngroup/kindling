!function(){var e={184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var i=l.apply(null,n);i&&e.push(i)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.domReady,t=n.n(e),o=window.wp.blocks,l=window.wp.element,r=window.wp.coreData,i=(window.wp.data,window.wp.components);(0,o.registerBlockType)("kindling/publications-categories-link-list",{title:"Publications Category Link List",icon:"list-view",category:"common",attributes:{taxonomy:{type:"string",default:"type"}},supports:{anchor:!0,align:["left","right"],alignWide:!1,color:{text:!1},position:{sticky:!0},spacing:{blockGap:!0,margin:!0,padding:!0},typography:{fontSize:!0,lineHeight:!0}},edit:e=>{const t=(0,r.useEntityRecords)("taxonomy","publication-category",{per_page:-1}),n=t?t.records:null;if(!Array.isArray(n))return"Loading terms...";const o=n.reduce(((e,t)=>(e[t.id]={term:t,children:[]},e)),{});n.forEach((e=>{0!==e.parent&&o[e.parent]&&o[e.parent].children.push(o[e.id])}));const i=e=>(0,l.createElement)("li",{key:e.term.id},(0,l.createElement)("a",{href:e.term.link,"aria-label":`View all publications in ${e.term.name}`,onClick:t=>{var n;t.preventDefault(),n=e.term.link,window.location.href=n},style:{cursor:"pointer"}},e.term.name),e.children.length>0&&(0,l.createElement)("ul",{className:"publication-category-submenu"},e.children.map(i)));return null===t?"Loading terms...":0===t.length?"No terms found.":(0,l.createElement)("div",{className:"wp-block-kindling-publications-categories-link-list publications-categories-link-list"},(0,l.createElement)("div",{className:"publications-categories-link-list__responsive"},(0,l.createElement)("nav",{"aria-label":"Publication Categories",className:"desktop"},(0,l.createElement)("ul",{className:"list-none pl-0"},Object.values(o).map(i))),(0,l.createElement)("select",{className:"mobile"},Object.values(o).map((e=>(0,l.createElement)("option",{key:e.term.id,value:e.term.link},e.term.name))))))},save:()=>null});var a=window.wp.i18n,s=window.wp.primitives,c=(0,l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(s.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),d=window.wp.blockEditor;(0,o.registerBlockType)("kindling/custom-search-link",{title:(0,a.__)("Search Link","kindling-custom-search-link"),icon:"search",category:"design",attributes:{iconColor:{type:"string",default:"#000000"},iconSize:{type:"string",default:"medium"}},edit({attributes:e,setAttributes:t}){const{iconColor:n,iconSize:o}=e,r=[{name:"small",title:(0,a.__)("Small","kindling-custom-search-link"),sizeClass:"has-small-icon-size"},{name:"medium",title:(0,a.__)("Medium","kindling-custom-search-link"),sizeClass:"has-medium-icon-size"},{name:"large",title:(0,a.__)("Large","kindling-custom-search-link"),sizeClass:"has-large-icon-size"},{name:"huge",title:(0,a.__)("Huge","kindling-custom-search-link"),sizeClass:"has-huge-icon-size"}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.BlockControls,null,(0,l.createElement)(i.ToolbarGroup,null,(0,l.createElement)(i.ToolbarDropdownMenu,{label:(0,a.__)("Size","kindling-custom-search-link"),text:(0,a.__)("Size","kindling-custom-search-link"),icon:null},(({onClose:e})=>(0,l.createElement)(i.MenuGroup,null,r.map((n=>(0,l.createElement)(i.MenuItem,{icon:o===n.name&&c,isSelected:o===n.name,key:n.name,onClick:()=>{t({iconSize:n.name}),e()},role:"menuitemradio"},n.title)))))))),(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,a.__)("Icon Color","kindling-custom-search-link")},(0,l.createElement)(d.ColorPalette,{value:n,onChange:e=>t({iconColor:e})}))),(0,l.createElement)("div",{className:`kindling-search-link has-${o}-icon-size`,onClick:e=>{e.preventDefault(),e.stopPropagation()}},(0,l.createElement)("a",{href:"/?s=","aria-label":"search",className:"kindling-search-link__link",style:{color:n}},(0,l.createElement)("svg",{class:"search-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("g",{id:"Icons/search"},(0,l.createElement)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:"","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,l.createElement)("path",{d:"M21 21L16.65 16.65",stroke:"","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))))))},save({attributes:e}){const{iconColor:t,iconSize:n}=e;return(0,l.createElement)("div",{className:`kindling-search-link has-${n}-icon-size`},(0,l.createElement)("a",{href:"/?s=","aria-label":"search",className:"kindling-search-link__link",style:{color:t}},(0,l.createElement)("svg",{class:"search-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("g",{id:"Icons/search"},(0,l.createElement)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:"","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,l.createElement)("path",{d:"M21 21L16.65 16.65",stroke:"","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})))))}});var u=window.wp.hooks;(0,u.addFilter)("blocks.registerBlockType","kindling/add-second-site-logo",((e,t)=>{if("core/site-logo"!==t)return e;const{attributes:n,edit:o}=e;return n.logo2={type:"integer"},e.edit=e=>{const{setAttributes:t}=e,n=e.attributes.logo2;return(0,l.createElement)("div",null,o(e),(0,l.createElement)("div",null,(0,l.createElement)(d.MediaUpload,{onSelect:e=>{t({logo2:e.id})},allowedTypes:["image"],value:n,render:({open:e})=>(0,l.createElement)(i.Button,{onClick:e},"Select Logo For Mobile")})))},e}));var m=window.wp.compose;const p=["core/group","core/column","core/cover"];(0,u.addFilter)("blocks.registerBlockType","kindling/shadow-custom-attribute",(function(e,t){return void 0!==e.attributes&&p.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{boxShadow:{type:"string",default:"none"}})),e}));const g=(0,m.createHigherOrderComponent)((e=>t=>{const{attributes:{boxShadow:n},setAttributes:o,isSelected:r}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,{...t}),r&&p.includes(t.name)&&(0,l.createElement)(d.InspectorAdvancedControls,null,(0,l.createElement)(i.RadioControl,{label:"Box Shadow",help:"The size of the box shadow",selected:n,options:[{label:"None",value:"none"},{label:"X-Small",value:"xs"},{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"large"}],onChange:e=>o({boxShadow:String(e)})})))}),"shadowAdvancedControls");(0,u.addFilter)("editor.BlockEdit","kindling/shadow-advanced-control",g),(0,u.addFilter)("blocks.getSaveContent.extraProps","kindling/shadow-apply-class",(function(e,t,n){const{boxShadow:o}=n;return p.includes(t.name)?(o&&"undefined"!==o&&"none"!==o&&(e.className=e.className+" has-custom-box-shadow--"+o),e):e}));const k=(0,m.createHigherOrderComponent)((e=>t=>{const{name:n,attributes:o}=t;if(!p.includes(n))return(0,l.createElement)(e,{...t});const{boxShadow:r}=o,i="none"!==r?" has-custom-box-shadow--"+r:"";return(0,l.createElement)(e,{...t,className:i})}),"editorAddCustomBlockClass");(0,u.addFilter)("editor.BlockListBlock","kindling/editor-add-shadow-class",k);const{createHigherOrderComponent:b}=wp.compose,h=b((e=>t=>{const{Fragment:n}=wp.element,{InspectorControls:o}=wp.blockEditor,{PanelBody:r,ToggleControl:i}=wp.components;if("core/paragraph"!==t.name)return(0,l.createElement)(e,{...t});const{className:a=""}=t.attributes,s=a.split(" ").includes("no-link-underline");return(0,l.createElement)(n,null,(0,l.createElement)(e,{...t}),(0,l.createElement)(o,null,(0,l.createElement)(r,{title:"Additional Settings",initialOpen:!0},(0,l.createElement)(i,{label:"Remove links underline",checked:s,onChange:e=>{const n=e?`${a} no-link-underline`:a.replace("no-link-underline","");t.setAttributes({className:n.trim()})}}))))}),"withInspectorControl");wp.hooks.addFilter("editor.BlockEdit","kindling/remove-link-underline",h),(0,u.addFilter)("blocks.registerBlockType","kindling/add-icon-color-attribute",(function(e,t){return"safe-svg/svg-icon"!==t?e:{...e,attributes:{...e.attributes,iconColor:{type:"string",default:""}}}}));const w=(0,m.createHigherOrderComponent)((e=>t=>{if("safe-svg/svg-icon"!==t.name)return(0,l.createElement)(e,{...t});const{attributes:n,setAttributes:o}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{style:{color:n.iconColor}},(0,l.createElement)(e,{...t})),(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:"Icon Color"},(0,l.createElement)(d.ColorPalette,{value:n.iconColor,onChange:e=>{o(e?{iconColor:e}:{iconColor:"none"})}}))))}),"addSafeSvgCustomColorInspectorControls");(0,u.addFilter)("editor.BlockEdit","kindling/safe-svg-add-custom-color-control",w),(0,u.addFilter)("blocks.getSaveContent.extraProps","kindling/add-custom-wrapper-style",(function(e,t,n){return"safe-svg/svg-icon"!==t.name||n.iconColor&&"none"!==n.iconColor&&(e.style={...e.style,color:n.iconColor}),e}));var E=n(184),v=n.n(E);const{__:__}=wp.i18n,{useRef:f,useState:C,useCallback:y,Fragment:S}=wp.element,{Button:N,ToggleControl:x,TextControl:_}=wp.components,{URLPopover:F}=wp.blockEditor,{LEFT:B,RIGHT:L,UP:T,DOWN:P,BACKSPACE:z,ENTER:I}=wp.keycodes;var O=({onChangeUrl:e,url:t,opensInNewTab:n,linkNoFollow:o,linkSponsored:r,ariaLabel:i})=>{const[a,s]=C(!1),c=y((()=>{s(!0)})),[d,u]=C(!1),[m,p]=C(null),g=f(null),k=e=>{e.stopPropagation()},b=y((()=>{u(!0)})),h=y((()=>{u(!1)})),w=y((()=>{p(null),h(),s(!1)})),E=y((()=>e=>{const t=g.current;t&&t.contains(e.target)||(s(!1),p(null),h())})),v=y((()=>t=>{m&&e({href:m}),h(),p(null),t.preventDefault()})),O=y((()=>{e({href:"",ariaLabel:""})})),A=(0,l.createElement)(S,null,(0,l.createElement)(x,{label:__("Open in New Tab","block-options"),onChange:t=>{e({opensInNewTab:t})},checked:n}),(0,l.createElement)(x,{label:__("No Follow","block-options"),onChange:t=>{e({linkNoFollow:t})},checked:o}),(0,l.createElement)(x,{label:__("Sponsored","block-options"),onChange:t=>{e({linkSponsored:t})},checked:r}),(0,l.createElement)(_,{label:"Aria Label",value:i||"",onChange:t=>{e({ariaLabel:t})}})),M=null!==m?m:t;return(0,l.createElement)(S,null,(0,l.createElement)(N,{icon:"admin-links",className:"components-toolbar__control",label:__(t?"Edit link":"Insert link","block-options"),"aria-expanded":a,onClick:c}),a&&(0,l.createElement)(F,{onFocusOutside:E(),onClose:w,renderSettings:()=>A},(!t||d)&&(0,l.createElement)(F.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:M,onChangeInputValue:p,onKeyDown:e=>{[B,P,L,T,z,I].indexOf(e.keyCode)>-1&&e.stopPropagation()},onKeyPress:k,onSubmit:v(),autocompleteRef:g}),t&&!d&&(0,l.createElement)(S,null,(0,l.createElement)(F.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",onKeyPress:k,url:t,onEditLinkClick:b}),(0,l.createElement)(N,{icon:"no",label:__("Remove link","block-options"),onClick:O}))))};const{Component:A,Fragment:M}=wp.element,{BlockControls:j}=wp.blockEditor,{ToolbarGroup:H,withSpokenMessages:R}=wp.components,{withSelect:D}=wp.data,{compose:G}=wp.compose;var U=G(D(((e,t)=>{const{attributes:n}=t;return{attributes:n}})),R)(class extends A{constructor(){super(...arguments),this.onSetHref=this.onSetHref.bind(this)}onSetHref(e){this.props.setAttributes(e)}render(){const{attributes:e}=this.props,{href:t,opensInNewTab:n,linkNoFollow:o,linkSponsored:r,ariaLabel:i}=e;return(0,l.createElement)(M,null,(0,l.createElement)(j,null,(0,l.createElement)(H,null,(0,l.createElement)(O,{url:t||"",opensInNewTab:n||!1,linkNoFollow:o||!1,linkSponsored:r||!1,onChangeUrl:this.onSetHref,ariaLabel:i||""}))))}});const K=["core/group","core/column","core/cover","safe-svg/svg-icon"];(0,u.addFilter)("blocks.registerBlockType","kindling/custom/attributes",(function(e){return void 0!==e.attributes&&K.includes(e.name)&&void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{href:{type:"string"},linkDestination:{type:"string",default:"none"},opensInNewTab:{type:"boolean",default:!1},linkNoFollow:{type:"boolean",default:!1},linkSponsored:{type:"boolean",default:!1},ariaLabel:{type:"string",default:""}})),e})),(0,u.addFilter)("blocks.getSaveContent.extraProps","kindling/applyExtraClass",(function(e,t,n){const{href:o}=n;return K.includes(t.name)&&void 0!==o&&o&&(e.className=v()(e.className,"kindling-linked-block")),e}));const V=(0,m.createHigherOrderComponent)((e=>t=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,{...t}),t.isSelected&&K.includes(t.name)&&(0,l.createElement)(U,{...t}))),"withLinkToolbar");(0,u.addFilter)("editor.BlockEdit","kindling/block-link-toolbar",V),t()((function(){(0,o.unregisterBlockStyle)("core/button","outline"),(0,o.unregisterBlockStyle)("core/button","fill")}))}()}();